[{"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/App.js":"1","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/reportWebVitals.js":"2","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchList.jsx":"3","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/index.js":"4","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchBar.jsx":"5","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchListItem.jsx":"6","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/Banner.jsx":"7","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationListItem.jsx":"8","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationList.jsx":"9","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/reportWebVitals.js":"10","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/Banner.jsx":"11","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchListItem.jsx":"12","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/NominationList.jsx":"13","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/App.js":"14","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/index.js":"15","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchBar.jsx":"16","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/NominationListItem.jsx":"17","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchList.jsx":"18","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchBarResults.jsx":"19","/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchBarResultItem.jsx":"20"},{"size":4778,"mtime":1610937196581,"results":"21","hashOfConfig":"22"},{"size":362,"mtime":1610479682276,"results":"23","hashOfConfig":"22"},{"size":1077,"mtime":1610859096692,"results":"24","hashOfConfig":"22"},{"size":500,"mtime":1610479682274,"results":"25","hashOfConfig":"22"},{"size":868,"mtime":1610933336722,"results":"26","hashOfConfig":"22"},{"size":482,"mtime":1610933359359,"results":"27","hashOfConfig":"22"},{"size":264,"mtime":1610933269566,"results":"28","hashOfConfig":"22"},{"size":676,"mtime":1610924994268,"results":"29","hashOfConfig":"22"},{"size":646,"mtime":1610933319103,"results":"30","hashOfConfig":"22"},{"size":362,"mtime":1611957426100,"results":"31","hashOfConfig":"32"},{"size":265,"mtime":1612718922836,"results":"33","hashOfConfig":"32"},{"size":473,"mtime":1612718922838,"results":"34","hashOfConfig":"32"},{"size":630,"mtime":1613070747854,"results":"35","hashOfConfig":"32"},{"size":5261,"mtime":1614022389274,"results":"36","hashOfConfig":"32"},{"size":500,"mtime":1611957426100,"results":"37","hashOfConfig":"32"},{"size":2049,"mtime":1614018809033,"results":"38","hashOfConfig":"32"},{"size":687,"mtime":1612718922837,"results":"39","hashOfConfig":"32"},{"size":2647,"mtime":1614019347509,"results":"40","hashOfConfig":"32"},{"size":2552,"mtime":1614055107853,"results":"41","hashOfConfig":"32"},{"size":197,"mtime":1613070747856,"results":"42","hashOfConfig":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"46"},"185fle5",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"68"},"1xzeq7b",{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/App.js",["92"],"import { React, useState, useEffect } from 'react';\nimport './App.css';\nimport SearchList from './SearchList';\nimport NominationList from './NominationList';\nimport SearchBar from './SearchBar';\nimport Banner from './Banner';\nconst axios = require('axios');\n\nfunction App() {\n  // localStorage will hold user's nomination if they've visited website before\n  // go through each item in local storage. if the key is an imdbID, put it in the nominees array  \n  const localNoms = [];\n  for (let i = 0; i < localStorage.length; i++) {\n    let key = localStorage.key(i);\n    let nom = localStorage[key];\n    if (key.match(/tt\\d{7}/g)) {\n      nom = JSON.parse(nom);\n      console.log('regex test worked');\n      localNoms.push(nom)\n    }\n  }\n\n  const [movies, setMovies] = useState({});\n  const [noResults, setNoResults] = useState(false);\n  const [lastSearchTerm, setLastSearchTerm] = useState('');\n  const [nominees, setNominees] = useState(localNoms.length ? localNoms : []);\n\n  const nominate = (Title, Year, imdbID, Poster) => {\n    const nominee = {\n      Title,\n      Year,\n      imdbID,\n      Poster\n    };\n    setNominees([...nominees, nominee]);\n\n    localStorage.setItem(imdbID, JSON.stringify(nominee));\n\n    for (let movie of movies) {\n      if (movie.imdbID === imdbID) {\n        movie.nominee = true;\n        break;\n      }\n    }\n  }\n\n  const remove = (idRemove) => {\n\n    for (let i = 0; i < localStorage.length; i++) {\n      let key = localStorage.key(i);\n      let nom = localStorage[key];\n      if (nom.includes(idRemove)) {\n        localStorage.removeItem(key);\n        break;\n      }\n    }\n\n    const newNomList = [];\n    for (let nominee of nominees) {\n      if (nominee.imdbID !== idRemove) {\n        newNomList.push(nominee);\n      }\n    }\n    if (movies.length) {\n      for (let movie of movies) {\n        if (movie.imdbID === idRemove) {\n          movie.nominee = false;\n          break;\n        }\n      }\n    }\n    setNominees(newNomList);\n  }\n\n  // get movies from database and set the results to searchResults\n  async function getMovies(searchTerm, pagesToReturn) {\n    // TODO add logic to return more than 1 page of results (IS this the right thing to do?) Would a user actually WANT to see more than 50 results?\n    const maxPages = 5;\n    try {\n      // TODO Hide API KEY\n      // the API only returns 10 results at a time, so to get more results, I will call it several times (maximum 5 times, set as maxPages)\n      const response = await axios.get(`https://www.omdbapi.com/?s=${searchTerm}&type=movie&apikey=bbde90f3`);\n      const totalResults = response.data.totalResults;\n      pagesToReturn = (pagesToReturn <= maxPages) ? pagesToReturn : maxPages;\n      pagesToReturn = (pagesToReturn <= totalResults) ? pagesToReturn : totalResults;\n\n      let movies = [];\n      for (let page = 1; page <= pagesToReturn; page++) {\n        const currentMovies = await axios.get(`https://www.omdbapi.com/?s=${searchTerm}&type=movie&page=${page}&apikey=bbde90f3`);\n        movies = movies.concat(currentMovies.data.Search);\n      }\n      for (let movie of movies) {\n        // TODO setting nominee causes console error and no results returned sometimes even though there should be results\n        if (movie) {\n          movie.nominee = false;\n          for (let nominee of nominees) {\n            if (movie.imdbID === nominee.imdbID) {\n              movie.nominee = true;\n            }\n          }\n        }\n      }\n      setMovies(movies);\n      setLastSearchTerm(searchTerm.replace('*', '').trim());\n      setNoResults(!movies.length);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Shoppies</h1>\n        <img\n          className='shoppies-logo'\n          src=\"https://cdn0.iconfinder.com/data/icons/social-line-transparent/50/Shopify-line-transparent-512.png\"\n          alt=\"shoppies-logo\"\n        />\n\n        <SearchBar getMovies={getMovies} />\n        {nominees.length === 5 ?\n          <Banner /> : null}\n      </header>\n\n      {nominees.length ?\n        <NominationList\n          className='nom-container'\n          remove={remove}\n          nominees={nominees}\n        /> :\n        <div className='nom-container'>\n          Your nominations will appear here.\n      </div>}\n      {movies.length ?\n        <SearchList\n          className='search-container'\n          nominate={nominate}\n          movies={movies}\n          maxNomsReached={nominees.length === 5}\n        /> :\n        noResults ?\n          <div className='search-container'>\n            Sorry, we could not find '{lastSearchTerm}'\n        </div> :\n          <div className='search-container'>\n            Search above to find movies!\n        </div>}\n    </div>\n  );\n}\n\nexport default App;\n",["93","94"],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/reportWebVitals.js",[],["95","96"],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchList.jsx",[],["97","98"],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/index.js",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchBar.jsx",[],["99","100"],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchListItem.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/Banner.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationListItem.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationList.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/reportWebVitals.js",[],["101","102"],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/Banner.jsx",[],["103","104"],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchListItem.jsx",[],["105","106"],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/NominationList.jsx",[],["107","108"],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/App.js",[],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/index.js",[],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchBar.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/NominationListItem.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchList.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchBarResults.jsx",["109","110"],"/Users/Edward/Documents/IT-Education/Projects/movie-awards/src/SearchBarResultItem.jsx",[],{"ruleId":"111","severity":1,"message":"112","line":1,"column":27,"nodeType":"113","messageId":"114","endLine":1,"endColumn":36},{"ruleId":"115","replacedBy":"116"},{"ruleId":"117","replacedBy":"118"},{"ruleId":"115","replacedBy":"119"},{"ruleId":"117","replacedBy":"120"},{"ruleId":"115","replacedBy":"121"},{"ruleId":"117","replacedBy":"122"},{"ruleId":"115","replacedBy":"123"},{"ruleId":"117","replacedBy":"124"},{"ruleId":"115","replacedBy":"125"},{"ruleId":"117","replacedBy":"126"},{"ruleId":"115","replacedBy":"127"},{"ruleId":"117","replacedBy":"128"},{"ruleId":"115","replacedBy":"129"},{"ruleId":"117","replacedBy":"130"},{"ruleId":"115","replacedBy":"131"},{"ruleId":"117","replacedBy":"132"},{"ruleId":"133","severity":1,"message":"134","line":32,"column":25,"nodeType":"135","endLine":32,"endColumn":29},{"ruleId":"133","severity":1,"message":"136","line":37,"column":26,"nodeType":"137","endLine":42,"endColumn":14},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","no-native-reassign",["138"],"no-negated-in-lhs",["139"],["138"],["139"],["138"],["139"],["138"],["139"],["138"],["139"],["138"],["139"],["138"],["139"],["138"],["139"],"react-hooks/exhaustive-deps","Assignments to the 'runNewTypeAhead' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","Literal","Assignments to the 'typeAheadTimeOut' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","CallExpression","no-global-assign","no-unsafe-negation"]
