[{"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/App.js":"1","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/reportWebVitals.js":"2","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchList.jsx":"3","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/index.js":"4","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchBar.jsx":"5","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchListItem.jsx":"6","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/Banner.jsx":"7","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationListItem.jsx":"8","/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationList.jsx":"9"},{"size":4776,"mtime":1610933251857,"results":"10","hashOfConfig":"11"},{"size":362,"mtime":1610479682276,"results":"12","hashOfConfig":"11"},{"size":1077,"mtime":1610859096692,"results":"13","hashOfConfig":"11"},{"size":500,"mtime":1610479682274,"results":"14","hashOfConfig":"11"},{"size":868,"mtime":1610933336722,"results":"15","hashOfConfig":"11"},{"size":482,"mtime":1610933359359,"results":"16","hashOfConfig":"11"},{"size":264,"mtime":1610933269566,"results":"17","hashOfConfig":"11"},{"size":676,"mtime":1610924994268,"results":"18","hashOfConfig":"11"},{"size":646,"mtime":1610933319103,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"23"},"185fle5",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/App.js",["42"],"import { React, useState, useEffect } from 'react';\nimport './App.css';\nimport SearchList from './SearchList';\nimport NominationList from './NominationList';\nimport SearchBar from './SearchBar';\nimport Banner from './Banner';\nconst axios = require('axios');\n\nfunction App() {\n  // localStorage will hold user's nomination if they've visited website before\n  // go through each item in local storage. if the key is an imdbID, put it in the nominees array  \n  const localNoms = [];\n  for (let i = 0; i < localStorage.length; i++) {\n    let key = localStorage.key(i);\n    let nom = localStorage[key];\n    if (key.match(/tt\\d{7}/g)) {\n      nom = JSON.parse(nom);\n      console.log('regex test worked');\n      localNoms.push(nom)\n    }\n  }\n\n  const [movies, setMovies] = useState({});\n  const [noResults, setNoResults] = useState(false);\n  const [lastSearchTerm, setLastSearchTerm] = useState('');\n  const [nominees, setNominees] = useState(localNoms.length ? localNoms : []);\n\n  const nominate = (Title, Year, imdbID, Poster) => {\n    const nominee = {\n      Title,\n      Year,\n      imdbID,\n      Poster\n    };\n    setNominees([...nominees, nominee]);\n\n    localStorage.setItem(imdbID, JSON.stringify(nominee));\n\n    for (let movie of movies) {\n      if (movie.imdbID === imdbID) {\n        movie.nominee = true;\n        break;\n      }\n    }\n  }\n\n  const remove = (idRemove) => {\n\n    for (let i = 0; i < localStorage.length; i++) {\n      let key = localStorage.key(i);\n      let nom = localStorage[key];\n      if (nom.includes(idRemove)) {\n        localStorage.removeItem(key);\n        break;\n      }\n    }\n\n    const newNomList = [];\n    for (let nominee of nominees) {\n      if (nominee.imdbID !== idRemove) {\n        newNomList.push(nominee);\n      }\n    }\n    if (movies.length) {\n      for (let movie of movies) {\n        if (movie.imdbID === idRemove) {\n          movie.nominee = false;\n          break;\n        }\n      }\n    }\n    setNominees(newNomList);\n  }\n\n  // get movies from database and set the results to searchResults\n  async function getMovies(searchTerm, pagesToReturn) {\n    // TODO add logic to return more than 1 page of results (IS this the right thing to do?) Would a user actually WANT to see more than 50 results?\n    const maxPages = 5;\n    try {\n      // TODO Hide API KEY\n      // the API only returns 10 results at a time, so to get more results, I will call it several times (maximum 5 times, set as maxPages)\n      const response = await axios.get(`http://www.omdbapi.com/?s=${searchTerm}&type=movie&apikey=bbde90f3`);\n      const totalResults = response.data.totalResults;\n      pagesToReturn = (pagesToReturn <= maxPages) ? pagesToReturn : maxPages;\n      pagesToReturn = (pagesToReturn <= totalResults) ? pagesToReturn : totalResults;\n\n      let movies = [];\n      for (let page = 1; page <= pagesToReturn; page++) {\n        const currentMovies = await axios.get(`http://www.omdbapi.com/?s=${searchTerm}&type=movie&page=${page}&apikey=bbde90f3`);\n        movies = movies.concat(currentMovies.data.Search);\n      }\n      for (let movie of movies) {\n        // TODO setting nominee causes console error and no results returned sometimes even though there should be results\n        if (movie) {\n          movie.nominee = false;\n          for (let nominee of nominees) {\n            if (movie.imdbID === nominee.imdbID) {\n              movie.nominee = true;\n            }\n          }\n        }\n      }\n      setMovies(movies);\n      setLastSearchTerm(searchTerm.replace('*', '').trim());\n      setNoResults(!movies.length);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Shoppies</h1>\n        <img\n          className='shoppies-logo'\n          src=\"https://cdn0.iconfinder.com/data/icons/social-line-transparent/50/Shopify-line-transparent-512.png\"\n          alt=\"shoppies-logo\"\n        />\n\n        <SearchBar getMovies={getMovies} />\n        {nominees.length === 5 ?\n          <Banner /> : null}\n      </header>\n\n      {nominees.length ?\n        <NominationList\n          className='nom-container'\n          remove={remove}\n          nominees={nominees}\n        /> :\n        <div className='nom-container'>\n          Your nominations will appear here.\n      </div>}\n      {movies.length ?\n        <SearchList\n          className='search-container'\n          nominate={nominate}\n          movies={movies}\n          maxNomsReached={nominees.length === 5}\n        /> :\n        noResults ?\n          <div className='search-container'>\n            Sorry, we could not find '{lastSearchTerm}'\n        </div> :\n          <div className='search-container'>\n            Search above to find movies!\n        </div>}\n    </div>\n  );\n}\n\nexport default App;\n",["43","44"],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/reportWebVitals.js",[],["45","46"],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchList.jsx",[],["47","48"],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/index.js",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchBar.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/SearchListItem.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/Banner.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationListItem.jsx",[],"/Users/Edward/Documents/IT-Education/Projects/shopify-front/src/NominationList.jsx",[],{"ruleId":"49","severity":1,"message":"50","line":1,"column":27,"nodeType":"51","messageId":"52","endLine":1,"endColumn":36},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"53","replacedBy":"57"},{"ruleId":"55","replacedBy":"58"},{"ruleId":"53","replacedBy":"59"},{"ruleId":"55","replacedBy":"60"},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","no-native-reassign",["61"],"no-negated-in-lhs",["62"],["61"],["62"],["61"],["62"],"no-global-assign","no-unsafe-negation"]