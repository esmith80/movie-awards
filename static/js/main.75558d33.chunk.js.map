{"version":3,"sources":["SearchListItem.jsx","SearchList.jsx","NominationListItem.jsx","NominationList.jsx","SearchBarResultItem.jsx","SearchBarResults.jsx","SearchBar.jsx","Banner.jsx","App.js","reportWebVitals.js","index.js"],"names":["SearchListItem","id","nominate","nominee","maxNomsReached","poster","title","year","onClick","disabled","SearchList","props","scrollLoop","movies","lastSearchTerm","getMovies","handlePageChange","searchPage","scrolling","lastOffPagePx","handleScroll","clearInterval","setInterval","console","log","offPagePxBelow","document","getElementById","scrollHeight","window","innerHeight","scrollY","useEffect","addEventListener","removeEventListener","searchListItems","i","length","push","imdbID","Title","Year","Poster","className","NominationListItem","src","includes","alt","remove","NominationList","nominees","nomListItems","SearchBarResultItem","SearchBarResults","searchText","useState","typeAheadResults","setTypeAheadResults","searchJustRan","setSearchJustRan","s","a","axios","get","response","searchResults","data","Search","titles","item","indexOf","getTypeAheadResults","results","map","index","SearchBar","setSearchText","placeholder","type","name","value","onKeyUp","e","key","trim","onChange","Banner","require","App","localNoms","localStorage","nom","match","JSON","parse","setMovies","noResults","setNoResults","setLastSearchTerm","setNominees","setSearchPage","searchTerm","pageToReturn","totalResults","replace","concat","error","idRemove","removeItem","newNomList","movie","setItem","stringify","p","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.75558d33.chunk.js","sourcesContent":["import React from 'react';\n\nexport const SearchListItem = ({ id, nominate, nominee, maxNomsReached, poster, title, year }) => {\n\n  return (\n    <>\n      <tr>\n        <td>{title}</td>\n        <td>{year}</td>\n        <td>\n          <button\n            onClick={() => {\n              nominate(title, year, id, poster);\n            }}\n            disabled={nominee || maxNomsReached}>{nominee ? 'üèÜ' : 'Nominate'}\n          </button>\n        </td>\n      </tr>\n    </>\n  );\n};","import React, { useEffect } from 'react';\nimport { SearchListItem } from './SearchListItem';\n\nfunction SearchList(props) {\n\n  const { nominate, movies, maxNomsReached, lastSearchTerm, getMovies, handlePageChange, searchPage } = props;\n\n  let scrolling = false;\n  let scrollLoop;\n  let lastOffPagePx = 0;\n\n  function handleScroll() {\n    scrolling = true;\n    // TODO have this code reviewed - is this the way to implement clearing the interval (included of logic of cancelling the event handler and also clearing it if a new one is to be set up?)\n    if (scrollLoop) clearInterval(scrollLoop);\n    scrollLoop = setInterval(() => {\n      console.log('inside setInterval - scrolling is: ', scrolling)\n      if (scrolling) {\n        scrolling = false;\n        // pageHeight is entire height of the page (even if it's off screen)\n        const pageHeight = document.getElementById('root').scrollHeight;\n        const offPagePxBelow = pageHeight - window.innerHeight - window.scrollY;\n        lastOffPagePx = offPagePxBelow;\n\n        // lastOffPagePx condition is so event only triggers when scrolling down\n        if (offPagePxBelow < 10 && offPagePxBelow <= lastOffPagePx) {\n          getMovies(lastSearchTerm + '*', searchPage + 1);\n          // TODO reset search page if movie results\n          handlePageChange(searchPage + 1);\n        }\n      }\n    }, 250);\n\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleScroll);\n    console.log('ADD scroll listener')\n    // returning the cleanup function will ensure that next time this useEffect runs, the cleanup function from the previous render will already be available to remove the listener??\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      clearInterval(scrollLoop);\n      console.log('REMOVE Scroll listener')\n    }\n  });\n\n  // TODO possible refactor - why build this each time, can't we just pass down an array?\n  const searchListItems = [];\n  for (let i = 0; i < movies.length; i++) {\n    // make an arry of SearchListItems\n    if (movies[i]) {\n      searchListItems.push(\n        <SearchListItem\n          key={i}\n          id={movies[i].imdbID}\n          title={movies[i].Title}\n          year={movies[i].Year}\n          poster={movies[i].Poster}\n          nominate={nominate}\n          nominee={movies[i].nominee}\n          maxNomsReached={maxNomsReached}\n        />);\n    }\n  }\n  console.log('SEARCH LIST RENDER')\n\n  return (\n    <div className='search-container'>\n      <table>\n\n        <thead>\n          <tr>\n            <th>Search Results ({searchListItems.length})</th>\n          </tr>\n          <tr>\n            <th>Title</th>\n            <th>Year</th>\n          </tr>\n        </thead>\n        <tbody>\n          {searchListItems}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n\nexport default SearchList;","import React from 'react';\n\nexport const NominationListItem = (props) => {\n\n  return (\n    <>\n      <div className='nom-item'>\n        <img className='poster' src={(props.poster.includes('jpg')) ? props.poster : 'https://www.kirkstall.com/wp-content/uploads/2020/04/image-not-available-png-8.png'} alt={props.title} />\n        <button className='nom-button' onClick={() => { props.remove(props.imdbID) }}>Remove</button>\n      </div>\n      {/* <tr>\n        <td>{props.title}</td>\n        <td>{props.year}</td>\n        <td><img class='poster' src={props.poster}/></td>\n        <td><button onClick={() => { props.remove(props.imdbID) }}>Remove</button></td>\n      </tr> */}\n    </>\n  );\n};","import React from 'react';\nimport { NominationListItem } from './NominationListItem';\n\nfunction NominationList(props) {\n\n  const { remove, nominees } = props;\n\n  const nomListItems = [];\n  for (let i = 0; i < nominees.length; i++) {\n    // make an arry of nomListItems\n    nomListItems.push(\n      <NominationListItem\n        key={i}\n        imdbID={nominees[i].imdbID}\n        title={nominees[i].Title}\n        year={nominees[i].Year}\n        poster={nominees[i].Poster}\n        remove={remove}\n      />);\n  }\n\n  return (\n    <div className='nom-container'>\n      {nomListItems}\n    </div>\n  );\n};\n\nexport default NominationList;","import React from 'react';\n\nconst SearchBarResultItem = ({ title }) => {\n  return (\n    <div className='searchbar-result-item'>\n      {title}\n    </div>\n  );\n};\n\nexport default SearchBarResultItem;","import { React, useState } from 'react';\nimport axios from 'axios';\nimport SearchBarResultItem from './SearchBarResultItem';\n\n\nconst SearchBarResults = ({ searchText }) => {\n\n  const [typeAheadResults, setTypeAheadResults] = useState([]);\n  const [searchJustRan, setSearchJustRan] = useState(false);\n\n  // TODO trigger this request and get results before page renders?\n\n  async function getTypeAheadResults(s) {\n    // TODO Hide API KEY\n    // the API only returns 10 results at a time\n    const response = await axios.get(`https://www.omdbapi.com/?s=${s}*&type=movie&page=1&apikey=bbde90f3`);\n    let searchResults = response.data.Search;\n    if (searchResults) {\n      const titles = [];\n      for (const item of searchResults) {\n        titles.push(item.Title);\n      }\n      setTypeAheadResults(titles);\n    }\n  }\n  // TODO adjust this test code which only allows additional search if entire text is deleted\n  // search only runs again if the search terms is deleted entirely before something new is\n  // TODO need conditions to check \n  // 1) when to run first search \n  // 2) when to rerun search \n  // 3) variable to track if current searchText returns a result\n  const searchLengths = [3, 6, 9, 12, 15, 18];\n  if (!searchJustRan && searchLengths.indexOf(searchText.length) > -1) {\n    getTypeAheadResults(searchText);\n    setSearchJustRan(true);\n  }\n\n  const results = typeAheadResults.map((title, index) => {\n    return (\n      <SearchBarResultItem\n        key={index}\n        title={title} />\n    )\n  });\n\n\n  return (\n    <div className='searchbar-results' >\n      {results}\n    </div>\n  );\n};\n\nexport default SearchBarResults;","import { React, useState } from 'react';\nimport SearchBarResults from './SearchBarResults'\n\nconst SearchBar = ({ getMovies }) => {\n\n  const [searchText, setSearchText] = useState('');\n\n\n  return (\n    <div className='searchbar'>\n      <label className='searchlabel'>Find movies to nominate</label>\n      <div className='input-search-results-container'>\n        <input\n          placeholder='Type a movie title...'\n          id='search-text'\n          type='search'\n          name='search-text'\n          value={searchText}\n          //TODO the searches from Enter and Search button should only run if the text entered is new and has not been already displayed\n          //TODO a search should be triggered automatically if someone types 3 characters\n          //TODO the search should return only a limited amount of results, i think... not infinite scroll? or maybe it could if the infinite scroll stayed in a fixed area\n          //TODO should be a debounce function that doesn't search with every new key type... only every 3 characters or every 1 second - whatever comes first \n          //TODO (only run if there is a new search term)\n          onKeyUp={e => {\n            if (e.key === 'Enter' && searchText.trim().length) {\n              getMovies(searchText + '*', 1); // number 1 has to be used because if these buttons are being hit the user needs new results - not necessarily... if they hit it twice to start then they should get 2 pages?\n            }\n          }}\n          onChange={() => { setSearchText(document.getElementById('search-text').value) }\n          }\n        />\n        {/* TODO don't display SearchBarResults at all if nothing is typed in, or if there is a new text IS USING a ternary with null OK? */}\n        {searchText ? <SearchBarResults\n          searchText={searchText}\n        /> : null}\n      </div>\n      <button onClick={() => {\n        if (searchText.trim().length) {\n          getMovies(searchText + '*', 1)\n        }\n      }}>Search</button>\n    </div>\n  );\n};\n\nexport default SearchBar;","import React from 'react';\n\nconst Banner = () => {\n\n  return (\n    <div className='banner'>\n      <h4>You have selected the maximum of 5 nominees. If you would like to change your nominations, use the 'Remove' button.</h4>\n    </div>\n  );\n};\n\nexport default Banner;","import { React, useState } from 'react';\nimport './App.css';\nimport SearchList from './SearchList';\nimport NominationList from './NominationList';\nimport SearchBar from './SearchBar';\nimport Banner from './Banner';\nconst axios = require('axios');\n\n\nfunction App() {\n  // localStorage will hold user's nomination if they've visited website before\n  // go through each item in local storage. if the key is an imdbID, put it in the nominees array  \n  const localNoms = [];\n  for (let i = 0; i < localStorage.length; i++) {\n    let key = localStorage.key(i);\n    let nom = localStorage[key];\n    if (key.match(/tt\\d{7}/g)) {\n      nom = JSON.parse(nom);\n      localNoms.push(nom)\n    }\n  }\n\n  const [movies, setMovies] = useState({});\n  const [noResults, setNoResults] = useState(false);\n  const [lastSearchTerm, setLastSearchTerm] = useState('');\n  const [nominees, setNominees] = useState(localNoms.length ? localNoms : []);\n  const [searchPage, setSearchPage] = useState(1);\n\n\n  const nominate = (Title, Year, imdbID, Poster) => {\n    const nominee = {\n      Title,\n      Year,\n      imdbID,\n      Poster\n    };\n    setNominees([...nominees, nominee]);\n\n    localStorage.setItem(imdbID, JSON.stringify(nominee));\n\n    for (let movie of movies) {\n      if (movie.imdbID === imdbID) {\n        movie.nominee = true;\n        break;\n      }\n    }\n  }\n\n  const remove = (idRemove) => {\n\n    for (let i = 0; i < localStorage.length; i++) {\n      let key = localStorage.key(i);\n      let nom = localStorage[key];\n      if (nom.includes(idRemove)) {\n        localStorage.removeItem(key);\n        break;\n      }\n    }\n\n    const newNomList = [];\n    for (let nominee of nominees) {\n      if (nominee.imdbID !== idRemove) {\n        newNomList.push(nominee);\n      }\n    }\n    if (movies.length) {\n      for (let movie of movies) {\n        if (movie.imdbID === idRemove) {\n          movie.nominee = false;\n          break;\n        }\n      }\n    }\n    setNominees(newNomList);\n  }\n\n  // get movies from database and set the results to searchResults\n  async function getMovies(searchTerm, pageToReturn) {\n    // the incoming pageToReturn informs us if the user has triggered a brand new search (even if the search is with the same search text as before)\n    if (pageToReturn === 1) {\n      setSearchPage(1);\n    }\n    try {\n      // TODO Hide API KEY\n      // the API only returns 10 results at a time\n      const response = await axios.get(`https://www.omdbapi.com/?s=${searchTerm}&type=movie&page=${pageToReturn}&apikey=bbde90f3`);\n      let searchResults = response.data.Search;\n      // TODO use the result count? total amount of results are known for a search term on the first query\n      const resultCount = response.data.totalResults;\n\n      for (let item of searchResults) {\n        // TODO setting nominee causes console error and no results returned sometimes even though there should be results\n        if (item) {\n          item.nominee = false;\n          for (let nominee of nominees) {\n            if (item.imdbID === nominee.imdbID) {\n              item.nominee = true;\n            }\n          }\n        }\n      }\n      setLastSearchTerm(searchTerm.replace('*', '').trim());\n      if (pageToReturn === 1) {\n        // TODO calling getMovies also sets the results in the search area - should getting the results and setting them be seperated as getting results can be used differently \n        setMovies(searchResults);\n\n      } else {\n        searchResults = movies.concat(searchResults);\n        setMovies(searchResults);\n      }\n      setNoResults(!searchResults.length);\n    } catch (error) {\n      // TODO console error if search results not iterable; need message to user that they've reached the end of the results\n      console.error(error);\n    }\n  }\n\n\n  console.log('APP RENDER')\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Shoppies</h1>\n        <img\n          className='shoppies-logo'\n          src=\"https://cdn0.iconfinder.com/data/icons/social-line-transparent/50/Shopify-line-transparent-512.png\"\n          alt=\"shoppies-logo\"\n        />\n\n        <SearchBar\n          getMovies={getMovies}\n          setMovies={setMovies}\n          searchPage={searchPage}\n          setSearchPage={setSearchPage} />\n\n\n        {nominees.length === 5 ?\n          <Banner /> : null}\n      </header>\n\n      {nominees.length ?\n        <NominationList\n          className='nom-container'\n          remove={remove}\n          nominees={nominees}\n        /> :\n        <div className='nom-container'>\n          Your nominations will appear here.\n      </div>}\n      {movies.length ?\n        <SearchList\n          className='search-container'\n          nominate={nominate}\n          movies={movies}\n          maxNomsReached={nominees.length === 5}\n          lastSearchTerm={lastSearchTerm}\n          getMovies={getMovies}\n          handlePageChange={(p) => {\n            setSearchPage(p);\n          }}\n          searchPage={searchPage}\n        /> :\n        noResults ?\n          <div className='search-container'>\n            Sorry, we could not find '{lastSearchTerm}'\n        </div> :\n          <div className='search-container'>\n            Search above to find movies!\n        </div>}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}